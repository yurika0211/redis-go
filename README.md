# ðŸ“¦ go-redis-mini

`go-redis-mini` æ˜¯ä¸€ä¸ªç”¨ **Goè¯­è¨€** å®žçŽ°çš„è½»é‡çº§ Redis é¡¹ç›®ï¼Œæ—¨åœ¨å­¦ä¹  Redis çš„åº•å±‚åŽŸç†ä¸Žé«˜æ€§èƒ½ç½‘ç»œæœåŠ¡è®¾è®¡ã€‚  
é¡¹ç›®ä¸¥æ ¼éµå¾ª Redis çš„ **RESP åè®®**ï¼Œå®žçŽ°äº†å¸¸è§çš„äº”ç§æ ¸å¿ƒæ•°æ®ç»“æž„ä¸Žå‘½ä»¤åˆ†å‘æœºåˆ¶ã€‚å®žçŽ°äº†RDB/AOFæŒä¹…åŒ–ï¼Œæœªæ¥å°†è¿›ä¸€æ­¥å®Œå–„benchmarkæµ‹è¯•ï¼ŒåŽç»­å°†ä¾æ¬¡ä»Žå†…å­˜ä½¿ç”¨æƒ…å†µåˆ†æžã€ç“¶é¢ˆè¯†åˆ«ã€æ€§èƒ½ä¼˜åŒ–ç­‰æ–¹é¢å…¥æ‰‹è¿›è¡Œé¡¹ç›®æ•´ä½“ä¼˜åŒ–ã€‚åœ¨åŠŸèƒ½ä¸ŠåŽæœŸä¹Ÿè€ƒè™‘å¢žåŠ è¿‡æœŸæ—¶é—´ã€äº‹åŠ¡ç­‰é«˜çº§ç‰¹æ€§ï¼Œå†åˆ°åŽé¢ä¼šç»§ç»­å®Œå–„æŒä¹…åŒ–æœºåˆ¶ï¼Œå¥ å®šä¸»ä»Žå¤åˆ¶çš„åŸºç¡€ï¼Œæœ€åŽä¼šå®žçŽ°å‘å¸ƒã€è®¢é˜…ï¼Œä»¥åŠClusteræ¨¡å¼ã€‚

---

## ðŸ§© é¡¹ç›®ç»“æž„

```
go-redis-server/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go           # ç¨‹åºå…¥å£
â”œâ”€â”€ go.mod                    
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ command/               # å‘½ä»¤æ³¨å†Œä¸Žåˆ†å‘
â”‚   â”‚   â””â”€â”€ command.go        
â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â””â”€â”€ server.go         
â”‚   â”œâ”€â”€ data/                  # å„æ•°æ®ç»“æž„å®žçŽ°
â”‚   â”‚   â”œâ”€â”€ common.go         
â”‚   â”‚   â””â”€â”€ string.go         
â”‚   â”‚   â””â”€â”€ hash.go       
â”‚   â”‚   â””â”€â”€ list.go 
â”‚   â”‚   â””â”€â”€ set.go
â”‚   â”‚   â””â”€â”€ sortedset.go                    
â”‚   â”œâ”€â”€ db/                    # æ•°æ®åº“æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ db.go             
â”‚   â”‚   â””â”€â”€ db_test.go        
â”‚   â”‚   â””â”€â”€ string.go       
â”‚   â”‚   â””â”€â”€ hash.go       
â”‚   â”‚   â””â”€â”€ list.go       
â”‚   â”‚   â””â”€â”€ set.go       
â”‚   â”‚   â””â”€â”€ srotedset.go      
â”‚   â”œâ”€â”€ error/
â”‚   â”‚   â””â”€â”€ error.go        
â”‚   â”œâ”€â”€ protocol/              
â”‚   â”‚   â”œâ”€â”€ resp_parser.go    
â”‚   â”‚   â””â”€â”€ resp_writer.go    
â”‚   â”œâ”€â”€ persistence/           # â† æ–°å¢žç›®å½•ï¼šæŒä¹…åŒ–é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ rdb.go            
â”‚   â”‚   â””â”€â”€ aof.go          
â”‚   â”‚   â””â”€â”€ rdb_test.go
â”‚   â”‚   â””â”€â”€ aof_test.go
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ log/
â”‚   â””â”€â”€ aof.txt
â”‚   â””â”€â”€ RDB.rdb
â””â”€â”€ README.md                 
```


---

## âš™ï¸ åŠŸèƒ½ç‰¹æ€§
-  æ”¯æŒäº”ç§æ ¸å¿ƒæ•°æ®ç»“æž„ï¼ˆStringã€Listã€Hashã€Setã€SortedSetï¼‰  
-  ä½¿ç”¨ `net` åº“å®žçŽ° TCP æœåŠ¡ï¼Œæ”¯æŒå¤šå®¢æˆ·ç«¯å¹¶å‘  
-  å®Œå…¨éµå¾ª Redis RESP åè®®ï¼Œå¯ç”¨ Redis-cli è¿žæŽ¥  
-  å‘½ä»¤æ³¨å†Œä¸ŽåŠ¨æ€åˆ†å‘æœºåˆ¶  
-  æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºŽæ‰©å±•æ›´å¤šå‘½ä»¤æˆ–æŒä¹…åŒ–æœºåˆ¶  
-  RDB/AOF æŒä¹…åŒ–  
-  Benchmark æµ‹è¯•

---

## ðŸš€ å¯åŠ¨æ–¹å¼
```bash
cd cmd/server
go run main.go
```

ç„¶åŽä½¿ç”¨ redis-cli è¿žæŽ¥ï¼š

```bash
redis-cli -p 6379
```

ðŸ“Š æ•´ä½“æž¶æž„å›¾ï¼ˆASCIIï¼‰

```ASCII
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          TCP Client 1.. N                                   â”‚
â”‚                    (Redis åè®® / RESP æ ¼å¼)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TCP Server (core/server. go)                             â”‚
â”‚           Port:  6379 | Listener | Goroutine Per Connection                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Protocol Layer (protocol/)                                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ resp_parser.go   â”€ è§£æž RESP åè®®                               â”‚  â”‚
â”‚  â”‚  â””â”€ resp_writer.go   â”€ ç”Ÿæˆ RESP å“åº”                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Command Layer (command/command.go)                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Command Registry (å‘½ä»¤æ³¨å†Œè¡¨)                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ Command Dispatcher (å‘½ä»¤åˆ†å‘å™¨)                                  â”‚  â”‚
â”‚  â”‚  â””â”€ Error Handling (é”™è¯¯å¤„ç†)                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Database Layer (db/)                                              â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  db. go - Core DB Engine                                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ map[string]Value (å†…å­˜å­˜å‚¨)                           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ sync.RWMutex (å¹¶å‘æŽ§åˆ¶)                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ Type Dispatch (æ•°æ®ç±»åž‹åˆ†å‘)                           â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Data Structures (data/)                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”œâ”€ string. go    â”€ String æ•°æ®ç»“æž„                          â”‚   â”‚   â”‚
â”‚  â”‚  â”œâ”€ list.go      â”€ List æ•°æ®ç»“æž„                            â”‚   â”‚   â”‚
â”‚  â”‚  â”œâ”€ hash.go      â”€ Hash æ•°æ®ç»“æž„                            â”‚   â”‚   â”‚
â”‚  â”‚  â”œâ”€ set.go       â”€ Set æ•°æ®ç»“æž„                             â”‚   â”‚   â”‚
â”‚  â”‚  â”œâ”€ sortedset.go â”€ SortedSet æ•°æ®ç»“æž„                       â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€ common.go    â”€ é€šç”¨æŽ¥å£                                 â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Data Type Handlers (db/)                                 â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ string.go    â”€ SET/GET/APPEND ç­‰å‘½ä»¤å¤„ç†                â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ list.go      â”€ LPUSH/RPOP ç­‰å‘½ä»¤å¤„ç†                    â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ hash. go      â”€ HSET/HGET ç­‰å‘½ä»¤å¤„ç†                    â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ set.go       â”€ SADD/SMEMBERS ç­‰å‘½ä»¤å¤„ç†                â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€ sortedset. go â”€ ZADD/ZRANGE ç­‰å‘½ä»¤å¤„ç†                 â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Persistence Layer (persistence/)                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ rdb.go      â”€ RDB å¿«ç…§æŒä¹…åŒ–                                   â”‚   â”‚
â”‚  â”‚  â””â”€ aof.go      â”€ AOF æ—¥å¿—æŒä¹…åŒ–                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Utils & Error (utils/ error/)                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ error.go    â”€ é”™è¯¯å®šä¹‰                                         â”‚   â”‚
â”‚  â”‚  â””â”€ utils.go    â”€ å·¥å…·å‡½æ•°                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–²
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    File System (Persistence)                               â”‚
â”‚                   log/RDB. rdb  |  log/aof.txt                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

## benchmarkæµ‹è¯•

æµ‹è¯•æŒ‡ä»¤

```bash
# è¿è¡Œæ‰€æœ‰ benchmark
go test -bench=. -benchmem .// -benchtime=10s

# åªè¿è¡Œ SET ç›¸å…³çš„ benchmark
go test -bench=BenchmarkSET -benchmem .// -benchtime=10s

# æŒ‡å®š CPU æ ¸å¿ƒæ•°ï¼ˆæ¨¡æ‹Ÿä¸åŒå¹¶å‘çŽ¯å¢ƒï¼‰
go test -bench=. -cpu=1,2,4,8 -benchmem .// -benchtime=10s

# ç”Ÿæˆ benchmark ç»Ÿè®¡
go test -bench=. -benchmem .// -benchtime=10s > bench_result.txt
```

benchmarkç»“æžœ
```bash
BenchmarkSET_Sequential-20      13475690   913.0 ns/op   64 B/op   5 allocs/op
BenchmarkGET_Sequential-20      14096358   873.0 ns/op   32 B/op   3 allocs/op
BenchmarkSET_Concurrent-20      70765888   180.1 ns/op   64 B/op   5 allocs/op
```
![Benchmark å›¾](images/benchmark.png)


